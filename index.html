<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Lightweight and Versatile NLP Toolkit • textpress</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="A Lightweight and Versatile NLP Toolkit">
<meta property="og:description" content="A rugged, practical toolkit for web scraping, stepwise NLP pipelines, and lightweight LLM context engineering. The API follows a consistent, predictable flow organized around four core actions: fetching, reading, processing, and searching. Functions cover the full pipeline from raw web data acquisition to structural text processing and BM25 indexing. Multiple retrieval strategies are supported, including regex, dictionary matching, and ranked keyword search. Designed to be transparent and unobtrusive: pipe-friendly, no heavy dependencies, and all outputs are plain data frames or data.tables rather than complex object classes.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">textpress</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/american-generations.html">American Generations: from Wikipedia to search</a>
    </li>
    <li>
      <a href="articles/getting-started.html">Getting started with textpress</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jaytimm/textpress/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">


<div class="section level1">
<div class="page-header"><h1 id="textpress">textpress<a class="anchor" aria-label="anchor" href="#textpress"></a>
</h1></div>
<p><code>textpress</code> is a lightweight, local-first <strong>NLP toolkit for R</strong> toolkit that takes you from a search query to a structured data frame with minimal overhead and no custom object classes — just plain tables. It brings traditional NLP tools like KWIC and BM25 together with modern capabilities like semantic search and LLM-ready chunking, all through a consistent <strong>Fetch</strong>, <strong>Read</strong>, <strong>Process</strong>, <strong>Search</strong> API. Whether you’re a corpus linguist, data journalist, RAG developer, or student, it offers a transparent, stepwise pipeline that keeps your data simple, inspectable, and bloat-free.</p>
<hr>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>From CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"textpress"</span><span class="op">)</span></span></code></pre></div>
<p>Development version:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"jaytimm/textpress"</span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="the-textpress-api-map">The <code>textpress</code> API map<a class="anchor" aria-label="anchor" href="#the-textpress-api-map"></a>
</h2>
<p><strong>Conventions:</strong> Corpus is a data frame with a <code>text</code> column plus identifier column(s) in <code>by</code> (default <code>doc_id</code>; use e.g. <code>c("url", "node_id")</code> after <code><a href="reference/read_urls.html">read_urls()</a></code>). Outputs are plain data frames or data.tables; pipe-friendly.</p>
<div class="section level3">
<h3 id="id_1-data-acquisition-fetch_">1. Data acquisition (<code>fetch_*</code>)<a class="anchor" aria-label="anchor" href="#id_1-data-acquisition-fetch_"></a>
</h3>
<p>These functions find <strong>locations</strong> of information (URLs or metadata), not full text. Use <code><a href="reference/read_urls.html">read_urls()</a></code> to get content.</p>
<ul>
<li>
<strong><code><a href="reference/fetch_urls.html">fetch_urls()</a></code></strong> — Web (general). Search engine for a list of relevant links.</li>
<li>
<strong><code><a href="reference/fetch_wiki_urls.html">fetch_wiki_urls()</a></code></strong> — Wikipedia. Article URLs matching a search phrase.</li>
<li>
<strong><code>fetch_wiki_refs(url, n)</code></strong> — Wikipedia. External citation URLs from an article’s References section; returns a data.table with <code>source_url</code> and <code>ref_url</code>.</li>
</ul>
</div>
<div class="section level3">
<h3 id="id_2-ingestion-read_">2. Ingestion (<code>read_*</code>)<a class="anchor" aria-label="anchor" href="#id_2-ingestion-read_"></a>
</h3>
<p>Bring data into R from URLs.</p>
<ul>
<li>
<strong><code><a href="reference/read_urls.html">read_urls()</a></code></strong> — Character vector of URLs → data frame (one row per node: headings, paragraphs, lists). For Wikipedia, use <code>exclude_wiki_refs = TRUE</code> to drop References / See also / Bibliography / Sources sections.</li>
</ul>
</div>
<div class="section level3">
<h3 id="id_3-processing-nlp_">3. Processing (<code>nlp_*</code>)<a class="anchor" aria-label="anchor" href="#id_3-processing-nlp_"></a>
</h3>
<p>Prepare raw text for analysis or indexing. Designed to be used with the pipe <code>|&gt;</code>.</p>
<ul>
<li>
<strong><code><a href="reference/nlp_split_paragraphs.html">nlp_split_paragraphs()</a></code></strong> — Break large documents into structural blocks.</li>
<li>
<strong><code><a href="reference/nlp_split_sentences.html">nlp_split_sentences()</a></code></strong> — Refine blocks into individual sentences.</li>
<li>
<strong><code><a href="reference/nlp_tokenize_text.html">nlp_tokenize_text()</a></code></strong> — Normalize text into a clean token stream.</li>
<li>
<strong><code><a href="reference/nlp_index_tokens.html">nlp_index_tokens()</a></code></strong> — Build a weighted BM25 index for ranked search.</li>
<li>
<strong><code><a href="reference/nlp_roll_chunks.html">nlp_roll_chunks()</a></code></strong> — Roll units (e.g. sentences) into fixed-size chunks with optional context (RAG-style).</li>
</ul>
</div>
<div class="section level3">
<h3 id="id_4-retrieval-search_">4. Retrieval (<code>search_*</code>)<a class="anchor" aria-label="anchor" href="#id_4-retrieval-search_"></a>
</h3>
<p>Four ways to query your data. Subject-first: data (corpus, index, or embeddings) then query. Pipe-friendly.</p>
<table class="table">
<colgroup>
<col width="22%">
<col width="54%">
<col width="22%">
</colgroup>
<thead><tr class="header">
<th>Function</th>
<th>Primary input (needle)</th>
<th>Use case</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>search_regex(corpus, query, …)</strong></td>
<td>Character (pattern)</td>
<td>Specific strings/patterns, KWIC.</td>
</tr>
<tr class="even">
<td><strong>search_dict(corpus, terms, …)</strong></td>
<td>Character (vector of terms)</td>
<td>Exact phrases/MWEs; no partial-match risk. N-gram range is set from word counts in <code>terms</code>. Built-in dicts: <code>dict_generations</code>, <code>dict_political</code>.</td>
</tr>
<tr class="odd">
<td><strong>search_index(index, query, …)</strong></td>
<td>Character (keywords)</td>
<td>BM25 ranked retrieval.</td>
</tr>
<tr class="even">
<td><strong>search_vector(embeddings, query, …)</strong></td>
<td>Numeric (vector/matrix)</td>
<td>Semantic neighbors (use <code><a href="reference/util_fetch_embeddings.html">util_fetch_embeddings()</a></code> for embeddings).</td>
</tr>
</tbody>
</table>
<p><strong>Wikipedia:</strong> <code>fetch_wiki_urls("topic")</code> → <code>read_urls(urls, exclude_wiki_refs = TRUE)</code>. For citation URLs from an article’s References section: <code>fetch_wiki_refs(wiki_url, n = 10)</code> → <code>read_urls(refs$ref_url)</code>.</p>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="extension-llms--agents">Extension: LLMs &amp; Agents<a class="anchor" aria-label="anchor" href="#extension-llms--agents"></a>
</h2>
<p><code>textpress</code> handles the heavy lifting of data acquisition and preparation. It is designed to function as a clean “toolset” that can be handed directly to an LLM or an automated agent.</p>
<div class="section level3">
<h3 id="id_1-context-engineering-rag">1. Context Engineering (RAG)<a class="anchor" aria-label="anchor" href="#id_1-context-engineering-rag"></a>
</h3>
<p>Instead of dumping raw text into a prompt, use <code>textpress</code> to refine the intake. The pipeline moves in a straight line: chunk the corpus, retrieve the best passages, inject only what’s relevant.</p>
<ul>
<li>
<strong>Chunking</strong> — <code><a href="reference/nlp_roll_chunks.html">nlp_roll_chunks()</a></code> breaks documents into overlapping windows sized to fit model token limits, with enough surrounding context to keep each chunk coherent on its own.</li>
<li>
<strong>Hybrid Search</strong> — <code><a href="reference/search_index.html">search_index()</a></code> (BM25) catches exact keyword matches; <code><a href="reference/search_vector.html">search_vector()</a></code> catches semantic ones. Used together, they surface passages that are both lexically and conceptually relevant to the query.</li>
<li>
<strong>Pre-filtering</strong> — <code><a href="reference/search_dict.html">search_dict()</a></code> narrows the chunk pool to only those containing relevant entities or terms before injection, keeping the context window focused and reducing noise.</li>
</ul>
</div>
<div class="section level3">
<h3 id="id_2-the-agents-toolbelt">2. The Agent’s Toolbelt<a class="anchor" aria-label="anchor" href="#id_2-the-agents-toolbelt"></a>
</h3>
<p>The consistent API and data-frame outputs make these functions easy to map to an agent’s tool-calling capabilities. An agent can “reach” for these tools to interact with the web:</p>
<table class="table">
<colgroup>
<col width="24%">
<col width="32%">
<col width="42%">
</colgroup>
<thead><tr class="header">
<th>Capability</th>
<th>
<code>textpress</code> Tool</th>
<th>Real-world Use Case</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Search</td>
<td><code><a href="reference/fetch_urls.html">fetch_urls()</a></code></td>
<td>“Find the top 5 articles on R performance.”</td>
</tr>
<tr class="even">
<td>Browse</td>
<td><code><a href="reference/read_urls.html">read_urls()</a></code></td>
<td>“Scrape the content of these specific pages.”</td>
</tr>
<tr class="odd">
<td>Locate</td>
<td><code><a href="reference/search_regex.html">search_regex()</a></code></td>
<td>“Find every mention of a currency value in this text.”</td>
</tr>
<tr class="even">
<td>Extract</td>
<td><code><a href="reference/search_dict.html">search_dict()</a></code></td>
<td>“Identify all mentions of specific competitors.”</td>
</tr>
<tr class="odd">
<td>Dig deeper</td>
<td><code><a href="reference/fetch_wiki_refs.html">fetch_wiki_refs()</a></code></td>
<td>“Follow the citations from this Wikipedia article.”</td>
</tr>
</tbody>
</table>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>MIT © <a href="https://github.com/jaytimm" class="external-link">Jason Timm, MA, PhD</a></p>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>If you use this package in your research, please cite:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/citation.html" class="external-link">citation</a></span><span class="op">(</span><span class="st">"textpress"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="issues">Issues<a class="anchor" aria-label="anchor" href="#issues"></a>
</h2>
<p>Report bugs or request features at <a href="https://github.com/jaytimm/textpress/issues" class="external-link">https://github.com/jaytimm/textpress/issues</a></p>
</div>
<div class="section level2">
<h2 id="contributing">Contributing<a class="anchor" aria-label="anchor" href="#contributing"></a>
</h2>
<p>Contributions welcome! Please open an issue or submit a pull request.</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=textpress" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/jaytimm/textpress/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/jaytimm/textpress/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing textpress</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Jason Timm <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=textpress" class="external-link"><img src="https://www.r-pkg.org/badges/version/textpress"></a></li>
<li><a href="https://cran.r-project.org/package=textpress" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/last-month/textpress"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Jason Timm.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
